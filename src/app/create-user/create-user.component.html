<div fxLayout="column" fxLayoutAlign="center center">
  <div class="cot">
  <h3>Formulaire Utilisateur</h3>
  <div>
    <form (ngSubmit)="onSubmit($event)" #userForm="ngForm" class="form">
      <div fxLayout="column" fxLayoutAlign="space-between">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Nom</mat-label>
          <input
            matInput
            placeholder="Nom"
            id="name"
            required pattern="[a-zA-Z ]*"
            [(ngModel)]="user.name"
            name="name"
            #name="ngModel"
          />
        </mat-form-field>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Prénom</mat-label>
          <input
            matInput
            placeholder="Prénom"
            id="firstname"
            required pattern="[a-zA-Z ]*"
            [(ngModel)]="user.firstname"
            name="firstname"
            #firstname="ngModel"
          />
        </mat-form-field>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Email</mat-label>
          <input
            matInput
            placeholder="Email"
            id="email"
            required email
            [(ngModel)]="user.email"
            name="email"
            #email="ngModel"
          />
        </mat-form-field>
        <mat-form-field appearance="outline" class="full-width">
          <input
            matInput
            [ngModel]="user.dateNaissance"
            [matDatepicker]="picker"
            (dateInput)="addEvent('input', $event)" (dateChange)="addEvent('change', $event)"
            placeholder="Date de naissance"
            name="picker"
            required
          />
          <mat-datepicker-toggle
            matSuffix
            [for]="picker"
          ></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
      </div>

      <mat-form-field fxLayout="column"
      fxLayoutAlign="center center"
      fxLayoutGap="20px">
          <mat-label>Type</mat-label>
          <mat-select [formControl]="selected" [errorStateMatcher]="matcher" id="type"
          required
          [(ngModel)]="user.type"
          name="type"
          >
            <mat-option></mat-option>
            <mat-option value="Eleve">Elève</mat-option>
            <mat-option value="Professeur">Professeur</mat-option>
            <mat-option value="Administrateur">Administrateur</mat-option>
          </mat-select>
          <mat-error *ngIf="selected.hasError('required')"
            >Choisissez un type d'utilisateur
          </mat-error>
        </mat-form-field>
        <br/>
      <div
        class="form"
        fxLayout="column"
        fxLayoutAlign="center center"
        fxLayoutGap="20px"
      >
        <span fxLayout="row"
          ><button
            type="submit"
            fxFlex="200px"
            mat-raised-button
            color="primary"
            [disabled]="!userForm.valid"
          >
            Enregistrer
          </button></span
        >
        <!--span fxLayout= "row"><button  fxFlex="200px" mat-raised-button color="primary">Annuler</button></span-->
      </div>

      
    </form>
    <span class="messageService">{{ messageService }}</span>
    <!--ul>
      <li *ngFor="let usr of (users | async)">
        {{ usr.name }}
        {{ usr.firstname }}
        {{ usr.type }}
        {{usr.dateNaissance}}
      </li>
    </ul-->
  </div>
</div>
</div>
